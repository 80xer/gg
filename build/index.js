/*!
 * 
 *   gg v0.0.1
 *   https://github.com/80xer/gg
 * 
 *   Copyright (c) 80xer (https://github.com/80xer)
 * 
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *   
 */
!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define("gg",[],t):"object"===typeof exports?exports.gg=t():e.gg=t()}(window,function(){return function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)__webpack_require__.d(r,n,function(t){return e[t]}.bind(null,n));return r},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(e,t,r){e.exports=r(2)},function(e,t,r){},function(e,t,r){"use strict";function addClass(e,t){return e.classList.add(t),e}function hasClass(e,t){return!!e.classList&&e.classList.contains(t)}function removeClass(e,t){e.classList.remove(t)}r.r(t);function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function BorderLine(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BorderLine),this.createBorderLine(e)}var e,t,r;return e=BorderLine,(t=[{key:"createBorderLine",value:function(e){var t=document.createElement("div");return addClass(t,"gg-border-line"),e&&addClass(t,"gg-border-line-".concat(e)),this.$line=t,t}}])&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),BorderLine}();function _typeof(e){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.target,i=n.data,o=n.columns;return(e=a)&&"object"===_typeof(e)?(t=i)&&Array.isArray(t)&&t.length>0&&"object"===_typeof(t[0])?!!((r=o)&&Array.isArray(r)&&r.length>0&&"object"===_typeof(r[0]))||(console.error("columns must be array of object type"),!1):(console.error("data must be array of object type"),!1):(console.error("target must be dom object"),!1)};function colgroup_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function ColGroup(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ColGroup),e.columnClassName=e.columnClassName||"data-column-name",this.props=e,this.$el=this.createColGroup(),this.setWidthOfColumns()}var e,t,r;return e=ColGroup,r=[{key:"calculateWidthOfColumns",value:function(e,t){for(var r=t.filter(function(e){return e.width}),n=t.length-r.length,a=r.reduce(function(e,t){return e-t.width},e),i=(Math.abs(Math.floor(a/n)),[]),o=0;o<t.length;o+=1)t[o].width?i.push(t[o].width):(i.push(120),1);return i[i.length-1]-=1,i}}],(t=[{key:"createColGroup",value:function(){var e=document.createElement("colgroup"),t=this.props,r=t.columns,n=t.columnClassName;return r.forEach(function(t){var r=document.createElement("col");r.setAttribute(n,t.field),r.textContent=t.title,e.appendChild(r)}),e}},{key:"scrollBarWidth",value:function(){return this.props.hasScroll?14:0}},{key:"setWidthOfColumns",value:function(){var e=this.props,t=e.target,r=e.columns;e.data;if(!t)throw new Error("required target, in colgroup");var n=t.getBoundingClientRect().width;this.props.otherSide&&(n-=parseInt(this.props.otherSide.$side.style.width,10));var a=this.scrollBarWidth(),i=ColGroup.calculateWidthOfColumns(n-a,r);this.$el.querySelectorAll("col").forEach(function(e,t){e.setAttribute("width",i[t])})}}])&&colgroup_defineProperties(e.prototype,t),r&&colgroup_defineProperties(e,r),ColGroup}();function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function head_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function Head(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Head),this.props=e,this.resizableColumnWidth=!1,this.startPointX=0,this.vectorPointX=0,this.createHeadArea()}var e,t,r;return e=Head,(t=[{key:"createHeadArea",value:function(){var e=document.createElement("div");addClass(e,"gg-head-area");var t=this.createTableContainer();return e.appendChild(t),this.props.height||!1!==this.props.scroll.y||(e.style.overflowY="hidden"),this.$area=e,e}},{key:"createTableContainer",value:function(){var e=document.createElement("div");addClass(e,"gg-head-table-container"),this.container=e;var t=this.createTable();return e.appendChild(t),e}},{key:"appendColResizer",value:function(){var e=this.createColResizer();e.style.height="".concat(this.height,"px"),e.style.marginTop="-".concat(this.height,"px"),this.resizerContainer=e,this.resizers=this.resizerContainer.querySelectorAll(".gg-resizer"),this.container.appendChild(e)}},{key:"createColResizer",value:function(){var e=this,t=document.createElement("div");addClass(t,"gg-col-resize-container");var r=0;return this.colgroup.$el.querySelectorAll("col").forEach(function(n,a){var i=document.createElement("div");addClass(i,"gg-resizer"),i.dataset.colIndex=a,r+=parseInt(n.width||0,10)||0,i.style.left="".concat(r-3,"px"),i.style.height="".concat(e.height,"px"),t.appendChild(i)}),t}},{key:"createTable",value:function(){var e=document.createElement("table"),t=this.createTbody(),r=this.createColGroup();return e.appendChild(r.$el),e.appendChild(t),this.table=e,e}},{key:"createColGroup",value:function(){var e=this.props,t=(e.target,e.height<this.bodyHeight),r=new i(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){_defineProperty(e,t,r[t])})}return e}({hasScroll:t},this.props));return this.colgroup=r,r}},{key:"createSortable",value:function(e,t){return"gg-index"===t.field||!1===t.sortable?e.innerHTML=t.title:e.innerHTML='<button class="sort-button" data-sortable="'.concat(t.field,'">').concat(t.title,"</button>"),e}},{key:"createTbody",value:function(){var e=this,t=document.createElement("tbody"),r=this.props,n=r.columns,a=r.data,i=document.createElement("tr"),o=getComputedStyle(this.props.target)["font-size"],s=parseInt(o,10)+20;return this.bodyHeight=a.length*s,n.forEach(function(t){var r=document.createElement("th");r.setAttribute("data-column-name",t.field),r.setAttribute("height","".concat(s,"px")),r.style.lineHeight=o,i.appendChild(e.createSortable(r,t))}),t.appendChild(i),this.tbody=t,this.height=s+2+1,t}}])&&head_defineProperties(e.prototype,t),r&&head_defineProperties(e,r),Head}();var s=function(e,t,r){return"ascending"===r?function(e,t){return e.sort(function(e,r){var n=e[t],a=r[t];return n?a&&n>a?1:-1:1}),e}(e,t):"descending"===r?function(e,t){return e.sort(function(e,r){var n=e[t],a=r[t];return n?a?n>a?-1:1:-1:1}),e}(e,t):function(e){return e.sort(function(e,t){return e["gg-origin-index"]>t["gg-origin-index"]?1:-1}),e}(e)};function body_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function body_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function Body(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Body),this.props=e,this.fontSize=getComputedStyle(this.props.target)["font-size"],this.cellHeight=parseInt(this.fontSize,10)+16,this.bodyAreaHeight=this.props.data.length*this.cellHeight,this.createBodyArea()}var e,t,r;return e=Body,(t=[{key:"createBodyArea",value:function(){var e=this.props.bodyHeight,t=document.createElement("div");addClass(t,"gg-body-area"),t.style.height="".concat(e,"px");var r=this.createTableContainer();return t.appendChild(r),this.$area=t,t}},{key:"createTableContainer",value:function(){var e=this.props.bodyHeight,t=document.createElement("div");t.style.height="".concat(e,"px"),addClass(t,"gg-body-table-container"),this.props.height||!1!==this.props.scroll.y||(t.style.overflowY="hidden"),this.container=t;var r=this.createTable();return t.appendChild(r),t}},{key:"createTable",value:function(){var e=this.props,t=e.data,r=e.pagination,n=document.createElement("table"),a=this.createColGroup(),i=this.createTbody();this.container;return this.setTbody(this.getTrArray(t,r.perPage,r.pageIdx)),n.appendChild(a.$el),n.appendChild(i),this.table=n,n}},{key:"sortBody",value:function(e,t){t?"ascending"===t?t="descending":"descending"===t&&(t=void 0):t="ascending";var r=s(this.props.data,e,t),n=this.props.pagination;return this.updateTbody(this.getTrArray(r,n.perPage,n.pageIdx)),t}},{key:"setTbody",value:function(e){var t=this.tbody;this.container;t.innerHTML=e}},{key:"updateTbody",value:function(e){this.tbody.innerHTML=e}},{key:"getTrString",value:function(e){var t=this,r=this.props.columns;return e.reduce(function(e,n,a){var i="gg-row-".concat(a%2?"odd":"even"),o=t.createTd(r,n,a);return"".concat(e,'<tr class="').concat(i,'" style="height:').concat(t.cellHeight,'px;">').concat(o,"</tr>")},"")}},{key:"getTrArray",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=this.props.columns,i=(n-1)*r,o=n*r-1;return e.slice(i,o+1).map(function(e,r){var n="gg-row-".concat(r%2?"odd":"even"),o=t.createTd(a,e,i+r);return'<tr class="'.concat(n,'" style="height:').concat(t.cellHeight,'px;">').concat(o,"</tr>")}).join("")}},{key:"createColGroup",value:function(){var e=this.props,t=(e.target,e.height<this.bodyAreaHeight),r=new i(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){body_defineProperty(e,t,r[t])})}return e}({hasScroll:t},this.props));return this.colgroup=r,r}},{key:"getValue",value:function(e,t,r){var n=e[t];return r?r(n):n}},{key:"getCell",value:function(e,t){return"<div>".concat(t?t(e):0===e?e:e||"","</div>")}},{key:"createTbody",value:function(){var e=document.createElement("tbody");return this.tbody=e,e}},{key:"createTd",value:function(e,t,r){var n=this,a="";return e.forEach(function(e){var i,o=e.value,s="",l='data-column-name="'.concat(e.field,'"'),c="";e.align&&(c+="text-align:".concat(e.align,";")),c+="line-height:".concat(n.fontSize,";"),"gg-index"===e.field?(o=r+1,s=n.getCell(o,e.cellTemplate)):(o=n.getValue(t,e.field,e.value),s=n.getCell(o,e.cellTemplate)),i='<td style="'.concat(c,'" ').concat(l,">").concat(s,"</td>"),a+=i}),a}},{key:"gotoPageOfBody",value:function(e){this.updateTbody(this.getTrArray(this.props.data,this.props.pagination.perPage,e))}}])&&body_defineProperties(e.prototype,t),r&&body_defineProperties(e,r),Body}();function side_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){side_defineProperty(e,t,r[t])})}return e}function side_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function side_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function Side(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Side),this.props=e;var t=this.props.height;this.scroll={x:!1,y:!1};var r=getComputedStyle(this.props.target)["font-size"],n=parseInt(r,10)+16;t?(this.bodyHeight=t-40,this.bodyHeight<this.props.pagination.perPage*n+this.getScrollAreaHeight()&&(this.scroll.y=!0)):this.bodyHeight=this.props.pagination.perPage*n+this.getScrollAreaHeight(),this.createSide()}var e,t,r;return e=Side,(t=[{key:"setWidth",value:function(e){this.$side.style.width="".concat(e,"px"),this.width=e}},{key:"setMarginLeft",value:function(e){this.$side.style.marginLeft="".concat(e,"px"),this.marginLeft=e}},{key:"getScrollAreaHeight",value:function(){return!1===this.props.scroll.x?1:16}},{key:"createHead",value:function(){return this.head=new o(side_objectSpread({},this.props)),this.head.appendColResizer(),this.head}},{key:"createBody",value:function(){return this.body=new l(side_objectSpread({},this.props,{bodyHeight:this.bodyHeight})),this.body}},{key:"gotoPageOfBody",value:function(e){this.body.gotoPage(e)}},{key:"createSide",value:function(){var e=document.createElement("div");addClass(e,"gg-side"),this.$side=e,this.$side.appendChild(this.createHead().$area),this.$side.appendChild(this.createBody().$area)}},{key:"sortEventHandler",value:function(e,t,r){var n=e.head,a=t.head,i=e.body,o=t.body;this.head.$area.addEventListener("click",function(e){if(e.target.hasAttribute("data-sortable")){var t=i.sortBody(e.target.dataset.sortable,e.target.dataset.sortdirection);o.sortBody(e.target.dataset.sortable,e.target.dataset.sortdirection);var s=n.$area.querySelector(".sort-button[data-sortdirection]");s&&delete s.dataset.sortdirection;var l=a.$area.querySelector(".sort-button[data-sortdirection]");l&&delete l.dataset.sortdirection,t?e.target.dataset.sortdirection=t:delete e.target.dataset.sortdirection,r()}})}},{key:"scrollEventHandler",value:function(e){var t,r=this;this.scrollListener=function(n){clearTimeout(t);var a=n.target;r.head.$area.scrollTo(a.scrollLeft,0),e.removeScrollEventHandler(),e.body.container.scrollTop=a.scrollTop,t=setTimeout(function(){e.body.container.addEventListener("scroll",e.scrollListener)},100)},this.body.container.addEventListener("scroll",this.scrollListener)}},{key:"removeScrollEventHandler",value:function(){this.body.container.removeEventListener("scroll",this.scrollListener)}},{key:"resizeMouseDown",value:function(e,t){var r=this.head,n=this.body;hasClass(e,"gg-resizer")&&!r.resizableColumnWidth&&(r.resizeTarget=e,r.headCols=r.colgroup.$el.querySelectorAll("col"),r.bodyCols=n.colgroup.$el.querySelectorAll("col"),r.resizeColIdx=r.resizeTarget.dataset.colIndex,r.resizableColumnWidth=!0,r.startColLeft=[].map.call(r.resizerContainer.querySelectorAll(".gg-resizer"),function(e){return parseInt(e.style.left,10)}),r.startColWidth=parseInt(r.headCols[e.dataset.colIndex].getAttribute("width"),10),r.startPointX=t)}},{key:"resizeClear",value:function(){var e=this.head;e.resizableColumnWidth=!1,e.startColWidth=0,e.startColLeft=[],e.vectorPointX=0,e.resizeTarget=null,this.setWidth(parseInt(this.$side.style.width,10))}},{key:"resizeColumns",value:function(e,t){var r=this.head,n=this.$side,a=this.width;if(r.resizableColumnWidth){r.vectorPointX=e-r.startPointX;var i=r.vectorPointX,o=r.resizeColIdx,s=r.headCols,l=r.bodyCols;r.resizers.forEach(function(e,t){t>=o&&(e.style.left="".concat(r.startColLeft[t]+i,"px"))}),t&&(n.style.width="".concat(a+i,"px"),t.setMarginLeft(parseInt(n.style.width,10)));var c=r.startColWidth+i;s[o].setAttribute("width",c),l[o].setAttribute("width",c)}}},{key:"getTr",value:function(e){for(var t=e.parentNode;;){if(null==t)return e;if("TR"===t.nodeName)return t;t=t.parentNode}}},{key:"hoverEventHandler",value:function(e){var t=this,r=function(r){var n=t.getTr(r.target);"TR"===n.nodeName&&(hasClass(n,"hover")?(e&&removeClass(e.body.tbody.querySelectorAll("tr")[n.rowIndex],"hover"),removeClass(n,"hover")):(e&&addClass(e.body.tbody.querySelectorAll("tr")[n.rowIndex],"hover"),addClass(n,"hover")))};this.body.$area.addEventListener("mouseover",r),this.body.$area.addEventListener("mouseout",r)}}])&&side_defineProperties(e.prototype,t),r&&side_defineProperties(e,r),Side}();function pagination_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function Pagination(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Pagination),this.props=e,this.visiblePages=5,this.$area=this.createPaginationArea(),this.createPageButtonGroup(),this.setEventHandler()}var e,t,r;return e=Pagination,(t=[{key:"createPaginationArea",value:function(){var e=document.createElement("div");return addClass(e,"gg-pagination-area"),e}},{key:"createPageButtons",value:function(e,t,r){var n="",a=this.getVisibleIndex(e,this.visiblePages,t);this.visibleIndex=a,this.pageIndex=t,a.forEach(function(e){var r="gg-page-btn";n+=e===t?'<span class="'.concat(r+=" gg-is-selected",'" data-page-index=').concat(e,">").concat(e,"</span>"):'<a href="#" class="'.concat(r,'" data-page-index=').concat(e,">").concat(e,"</a>")}),n=a[0]>1?'<a href="#" class="gg-page-btn gg-prev-ellip" data-page-goto="prev-ellip"><span class="gg-ico-ellip">...</span></a>'.concat(n):'<span class="gg-page-btn gg-prev-ellip gg-is-disabled"><span class="gg-ico-ellip">...</span><span class="gg-is-disabled-mask"></span></span>'.concat(n),a[a.length-1]<e?n+='<a href="#" class="gg-page-btn gg-next-ellip" data-page-goto="next-ellip"><span class="gg-ico-ellip">...</span></a>':n+='<span class="gg-page-btn gg-next-ellip gg-is-disabled"><span class="gg-ico-ellip">...</span><span class="gg-is-disabled-mask"></span></span>',n=1===t?'<span class="gg-page-btn gg-is-disabled gg-first"><span class="gg-ico-first">first</span><span class="gg-is-disabled-mask"></span></span><span class="gg-page-btn gg-is-disabled gg-prev"><span class="gg-ico-prev">prev</span><span class="gg-is-disabled-mask"></span></span>'.concat(n):'<a href="#" class="gg-page-btn gg-first" data-page-goto="first"><span class="gg-ico-first">first</span></a><a href="#" class="gg-page-btn gg-prev" data-page-goto="prev"><span class="gg-ico-prev">prev</span></a>'.concat(n),n="".concat(n,t===e?'<span class="gg-page-btn gg-is-disabled gg-next"><span class="gg-ico-next">next</span><span class="gg-is-disabled-mask"></span></span><span class="gg-page-btn gg-is-disabled gg-last"><span class="gg-ico-last">last</span><span class="gg-is-disabled-mask"></span></span>':'<a href="#" class="gg-page-btn gg-next" data-page-goto="next"><span class="gg-ico-next">next</span></a><a href="#" class="gg-page-btn gg-last" data-page-goto="last"><span class="gg-ico-last">last</span></a>'),r.innerHTML=n}},{key:"createPageButtonGroup",value:function(){var e=this.props,t=e.rowCount,r=e.perPage,n=e.pageIdx,a=t%r===0?t/r:Math.ceil(t/r);this.pageCount=a,this.createPageButtons(a,n,this.$area)}},{key:"getVisibleIndex",value:function(e,t,r){var n,a,i=Math.floor(t/2);a=r+i,(n=r-i)<=0&&(a+=1-n,n+=1-n),a>e&&(n-=a-e,a-=a-e);for(var o=[],s=n;s<=a;s+=1)o.push(s);return o}},{key:"initPageButtons",value:function(){this.createPageButtons(this.pageCount,1,this.$area)}},{key:"detectPageButtonOnClick",value:function(e){for(var t=e;t;){if(hasClass(t,"gg-page-btn"))return t;t=t.parentNode}return!1}},{key:"setEventHandler",value:function(){var e=this;this.$area.addEventListener("click",function(t){var r=e.detectPageButtonOnClick(t.target);if(r)if(r.dataset.pageIndex)e.createPageButtons(e.pageCount,parseInt(r.dataset.pageIndex,10),e.$area),e.props.callback(r.dataset.pageIndex);else{var n=r.dataset.pageGoto,a=1;if(n){var i=Math.floor(e.visibleIndex.length/2);switch(n){case"first":a=1;break;case"prev":a=e.pageIndex-1;break;case"prev-ellip":(a=e.visibleIndex[i]-e.visiblePages)<0&&(a=1);break;case"next-ellip":(a=e.visibleIndex[i]+e.visiblePages)>e.pageCount&&(a=e.pageCount);break;case"next":a=e.pageIndex+1;break;case"last":a=e.pageCount}e.createPageButtons(e.pageCount,parseInt(a,10),e.$area),e.props.callback(a)}}})}}])&&pagination_defineProperties(e.prototype,t),r&&pagination_defineProperties(e,r),Pagination}(),u={sortable:!0},p={pagination:{view:!1,pageIdx:1,perPage:1}};r(1);function gg_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){gg_defineProperty(e,t,r[t])})}return e}function gg_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gg_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g=function(){function GG(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GG),this.init(e),a(this.props)){addClass(this.props.target,"gg");var t=this.splitColumns(),r=t.lSideColumns,n=t.rSideColumns;this.lSideColumns=r,this.rSideColumns=n,this.createLside(),this.createBorderLine(),this.drawLside(),this.createRside(),this.drawRside(),this.setEventHandler(),this.createPagination()}}var e,t,r;return e=GG,(t=[{key:"init",value:function(e){e&&e.columns&&(e.columns=e.columns.map(function(e){return gg_objectSpread({},u,e)})),e&&e.data&&(e.data=e.data.map(function(e,t){return gg_objectSpread({},e,{"gg-origin-index":t})})),e&&e.pagination&&(e.pagination=gg_objectSpread({},p.pagination,e.pagination)),this.props=gg_objectSpread({},p,e)}},{key:"createRside",value:function(){var e=this.rSideColumns,t=Object.assign({},this.props,{columns:e,side:"right"});this.rSide=new c(gg_objectSpread({},t,{otherSide:this.lSide})),this.rSide.setMarginLeft(parseInt(this.lSide.$side.style.width,10)),addClass(this.rSide.$side,"gg-rside")}},{key:"createLside",value:function(){var e=this.lSideColumns,t=Object.assign({},this.props,{columns:e,side:"left"});this.lSide=new c(t);var r=e.reduce(function(e,t){return t.width+e},0);if(!1!==this.props.scroll){var n=document.createElement("div");addClass(n,"gg-lside-bottom-space"),this.lSide.$side.appendChild(n)}this.lSide.setWidth(r),addClass(this.lSide.$side,"gg-lside")}},{key:"splitColumns",value:function(){for(var e=this.props.columns,t=e.length-1;t>=0&&!e[t].fixed;t-=1);return{lSideColumns:e.slice(0,t+1),rSideColumns:e.slice(t+1)}}},{key:"createBorderLine",value:function(){this.topLine=new n({type:"top"}),this.rightLine=new n({type:"right"}),this.bottomLine=new n({type:"bottom"}),this.leftLine=new n({type:"left"})}},{key:"createContainer",value:function(){var e=document.createElement("div");return addClass(e,"gg-container"),e}},{key:"detectSideOnClickResizer",value:function(e){for(var t=e;t;){if(hasClass(t,"gg-side")){if(hasClass(t,"gg-lside"))return"lSide";if(hasClass(t,"gg-rside"))return"rSide";break}t=t.parentNode}return!1}},{key:"resizeColumnEventHandler",value:function(){var e=this,t=this.props.target;t.addEventListener("mousedown",function(t){hasClass(t.target,"gg-resizer")&&(e.resizingSide=e.detectSideOnClickResizer(t.target),e.resizingSide&&e[e.resizingSide].resizeMouseDown(t.target,t.clientX))}),t.addEventListener("mouseup",function(t){e.resizingSide&&(e[e.resizingSide].resizeClear(t.target),e.resizingSide=!1)}),t.addEventListener("mousemove",function(t){"lSide"===e.resizingSide?e[e.resizingSide].resizeColumns(t.clientX,e.rSide):"rSide"===e.resizingSide&&e[e.resizingSide].resizeColumns(t.clientX)})}},{key:"sortEventHandler",value:function(){this.lSide.sortEventHandler(this.lSide,this.rSide,this.initPageNation()),this.rSide.sortEventHandler(this.lSide,this.rSide,this.initPageNation())}},{key:"scrollEventHandler",value:function(){this.lSide.scrollEventHandler(this.rSide),this.rSide.scrollEventHandler(this.lSide)}},{key:"hoverEventHandler",value:function(){this.lSide.hoverEventHandler(this.rSide),this.rSide.hoverEventHandler(this.lSide)}},{key:"setEventHandler",value:function(){this.sortEventHandler(),this.scrollEventHandler(),this.resizeColumnEventHandler(),this.hoverEventHandler()}},{key:"drawRside",value:function(){var e=this.rSide,t=this.topLine,r=this.rightLine,n=this.bottomLine,a=this.leftLine;this.$container.appendChild(e.$side),this.$container.appendChild(t.$line),this.$container.appendChild(r.$line),this.$container.appendChild(n.$line),this.$container.appendChild(a.$line)}},{key:"drawLside",value:function(){var e=this.props.target,t=this.lSide;this.$container=this.createContainer(),this.$container.appendChild(t.$side),e.appendChild(this.$container)}},{key:"paginationCallBack",value:function(){var e=this;return function(t){e.lSide.body.gotoPageOfBody(t),e.rSide.body.gotoPageOfBody(t)}}},{key:"initPageNation",value:function(){var e=this;return function(){e.pagination&&e.pagination.initPageButtons()}}},{key:"createPagination",value:function(){var e=this.props,t=e.target,r=e.pagination;r.view&&(this.pagination=new d(gg_objectSpread({},r,{rowCount:this.props.data.length,callback:this.paginationCallBack()})),t.appendChild(this.pagination.$area))}}])&&gg_defineProperties(e.prototype,t),r&&gg_defineProperties(e,r),GG}();var h=function(e){return new g(e)};t.default=h}])});
//# sourceMappingURL=index.js.map